{"is_source_file": true, "format": "TypeScript", "description": "This file sets up an Express server to serve an Angular Universal (server-side rendered) application. It serves static assets from the 'browser' directory and renders the Angular app for all other requests. It also includes code to start the server if the script is run directly.", "external_files": ["@angular/common", "@angular/ssr/node", "express", "node:path", "node:url", "./main.server"], "external_methods": ["isMainModule", "CommonEngine", "APP_BASE_HREF"], "published": ["app"], "classes": [{"name": "CommonEngine", "description": "A class from '@angular/ssr/node' used to perform server-side rendering of the Angular app."}], "methods": [{"name": "render", "description": "Method of CommonEngine used to render the Angular application to HTML based on provided configuration."}], "calls": ["express.static", "commonEngine.render", "app.listen", "isMainModule"], "search-terms": ["Angular Universal SSR", "Express static serving", "server.ts", "Node server setup", "Angular app rendering", "startup check"], "state": 2, "file_id": 7, "knowledge_revision": 33, "git_revision": "847e2223c84a518439882ec8feb7949d09d484ce", "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^const app = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "browserDistFolder", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^const browserDistFolder = resolve(serverDistFolder, '..\\/browser');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "commonEngine", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^const commonEngine = new CommonEngine();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "indexHtml", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^const indexHtml = join(serverDistFolder, 'index.server.html');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "originalUrl", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^  const port = process.env['PORT'] || 4000;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "serverDistFolder", "path": "/home/kavia/workspace/code-generation/angular-frontend-setup-210923-210932/frontend_app/src/server.ts", "pattern": "/^const serverDistFolder = dirname(fileURLToPath(import.meta.url));$/", "language": "TypeScript", "kind": "constant"}], "hash": "2b01cdd40bb909f26c1bcd609dfb8a51", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/server.ts", "revision_history": [{"33": "847e2223c84a518439882ec8feb7949d09d484ce"}]}